<div class="article-details">
  <h1><%= @article.title %></h1>

  <div class="article-meta">
    <% if @article.is_a?(ScrapedArticle) %>
      <span>Source: <%= @article.scraped_feed.name %></span>
      <%= link_to "Original Article", @article.url, target: "_blank", class: "btn" %>
    <% else %>
      <span>Source: <%= @article.feed.name %></span>
    <% end %>
    <span>Published: <%= @article.published_at.strftime("%B %d, %Y") %></span>
  </div>

  <!-- Debugging Logs - for Development Only -->
  <% if Rails.env.development? %>
    <div class="debug-info">
      <p><strong>Article ID:</strong> <%= @article.id %></p>
      <p><strong>Article Type:</strong> <%= @article.class %></p>
      <p><strong>AI Summary Object:</strong> <%= @article.ai_summary.inspect %></p>
      <p><strong>AI Summary Content:</strong> <%= @article.ai_summary&.content || "No AI Summary found" %></p>
    </div>
  <% end %>

  <div class="article-content">
    <h2>Raw AI Summary Debug:</h2>
    <pre><%= @article.ai_summary&.content || "No AI Summary found" %></pre>

    <!-- AI Summary Section -->
    <% if @article.is_a?(Article) && @article.ai_summary.present? %>
      <h2>AI Summary</h2>
      <div class="ai-summary">
        <%= simple_format(@article.ai_summary.content) %>
      </div>
    <% else %>
      <p>No AI Summary available</p>
    <% end %>
  </div>
</div>
